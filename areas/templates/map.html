{% load static %}

<!DOCTYPE html>

<!-- Iteration 2-->
<!-- Main HTML-->
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Safe Explorer</title>
        <link rel="icon" type="image/x-icon" href="{% static 'assets/favicon.ico' %}" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Iteration 3: -->
        <!-- Including Google Maps JavaScript API -->
        <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=geometry"></script>

        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
        <style>
            #map{
                height: 500px;
                width: 100%;
            }
        </style>
    </head>

    <body>
    <!-- Iteration 3 
    {% load leaflet_tags %}
    {% leaflet_map "map" callback="map_init" %}
    {% leaflet_css %}
    {% leaflet_js %}
        -->
          
        <!-- Iteration 2 --> 
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
            <div class="container px-5">
                <!-- Redirect to Landing Page hyperlink --> 
                <a class="navbar-brand" href="/">Safe Explorer</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link" href="/map">Search for a Location</a></li>
                        <li class="nav-item"><a class="nav-link" href="#!">Sign Up</a></li>
                        <li class="nav-item"><a class="nav-link" href="#!">Log In</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Iteration 2 -->  
        <!-- Header-->
        <header class="masthead text-center text-white has-bg-img" style="background-image:url({% static 'assets/img/cork1.jpg' %})">
            <div class="masthead-content has-bg-img">        
                <div class="container px-5">
                    <!-- Iteration 2 -->   
                    <!-- REF: Text Shadow Effect - layering over shadows to make shadow darker (Stackoverflow, 2016) -->
                    <h1 class="masthead-heading mb-0" style="text-shadow: 0 0 32px black, 0 0 32px black, 0 0 32px black, 0 0 32px black">Map Search</h1>
                    <h4 style="text-shadow: 0 0 32px black, 0 0 32px black, 0 0 32px black, 0 0 32px black">Show safety ratings and reviews for any area around the world.</h4>
                </div>
            </div>
        </header>

        <!-- Iteration 2 -->    
        <!-- Search Bar and Location Name-->
        <!-- REF: Working with grids (GetBootstrap, 2023) -->
        <section id="search-bar">
            <div class="container px-5" style="padding-top:30px">
                <div class="row gx-5 align-items-center"> 

                    <!-- Left: Search Bar-->
                    <!-- REF: Search Bar (MD Bootstrap, 2023) --> 
                    <div class="col-lg-6 order-lg-2">                       
                        <div class="input-group rounded container px-5">
                            <input  type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                            <span  class="input-group-text border-0" id="search-addon">
                            <i class="fas fa-search"></i>
                            </span>
                        </div>                          
                    </div>

                    <!-- Right: Location Name -->
                    <div class="col-lg-6 order-lg-1">
                        <div class="p-5" style="text-align:center">
                            <h3 class="display-4">Location Name</h3>
                            <h4>County, Country, Placeholder</h4>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <!-- Iteration 2: -->
        <!-- Google Map 
        <section id="scroll">                     
            <div class="container px-5">
                <div class="row gx-5 align-items-center">              
                    < Google Maps Embedded-->
                    <!-- REF: Embedded Maps Setup (Google for Developers, 2023) -->
                    <!--
                    <iframe width="90%" height="500" style="border:0" loading="lazy" allowfullscreen src="https://www.google.com/maps/embed/v1/place?q=cork&key=AIzaSyD4jbWtCYkJyyvYxwUeVLpJShFO7SMP4BY"></iframe>           
                </div>
            </div>         
        </section>
    -->

        <!-- Iteration 3: -->
        <!-- LeafLet Map   -->
        <section>                     
            <div class="container px-5">
                <div id= "map"class="row gx-5 align-items-center"></div>
            </div>         
        </section>

        <!-- Iteration 2 -->    
        <!-- Area Analytics-->
        <section id="area-analytics">
            <div class="container px-5">
                <div class="row align-items-center"> 

                        <!-- Metric 1 -->
                        <div class="col">
                            <div class="p-5" style="text-align:center">
                                <h2 class="display-4">123</h2>
                                <h3>Robberies</h3>
                                <h6>In 2022</h6>
                            </div>
                        </div>

                        <!-- Metric 2 -->
                        <div class="col">
                            <div class="p-5" style="text-align:center">
                                <h2 class="display-4">123</h2>
                                <h3>Physical Assaults</h3>
                                <h6>In 2022</h6>
                            </div>
                        </div>
                    

                        <!-- Metric 3 -->
                        <div class="col">
                            <div class="p-5" style="text-align:center">
                                <h2 class="display-4">123</h2>
                                <h3>Unsocial Behaviour</h3>
                                <h6>In 2022</h6>
                            </div>
                        </div>

                        <!-- Metric 4 -->
                        <div class="col">
                            <div class="p-5" style="text-align:center">
                                <h2 class="display-4">123</h2>
                                <h3>Sexual Assaults</h3>
                                <h6>In 2022</h6>
                            </div>
                        </div>   
                </div>
            </div>
        </section>    

        <!-- Footer-->
        <footer class="py-5 bg-black">
            <div class="container px-5"><p class="m-0 text-center text-white small">Copyright &copy; Safe Explorer 2023</p></div>
        </footer>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="{% static 'js/scripts.js' %}"></script>


    </body>
</html>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/leaflet-ajax/dist/leaflet.ajax.min.js"></script>
<script>
    // Iteration 3
    // Showing Leaflet Base Map
    var map = L.map('map').setView([51.898, -8.4788], 12.5);

    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });
        osm.addTo(map);
    
    // Adding Cork divisions from GeoJSON  
    var polygonJSON = L.geoJSON.ajax(" {% static 'data/CorkDivisions.geojson' %} ", {
        style: {
            fillColor: 'red',  // Change background color
            color: 'black',       // Change line color
            weight: 1.5,            // Change line weight
            opacity: 4,
        }
    }).addTo(map);

    // Styling polygons on map
 
</script>

<!--
REFRERENCES:

Template:
    Template from Bootstrap.com - Startbootstrap.com. (2023). Start Bootstrap. [online] Available at: https://startbootstrap.com/theme/one-page-wonder [Accessed 9 Nov. 2023].
    License: Free to use - https://github.com/startbootstrap/startbootstrap-one-page-wonder/blob/master/LICENSE         

Iteration 2:
    Google for Developers. (2023). The Maps Embed API quickstart. [online] Available at: https://developers.google.com/maps/documentation/embed/quickstart [Accessed 22 Nov. 2023].
    GetBootstrap (2023). Grid system. [online] Getbootstrap.com. Available at: https://getbootstrap.com/docs/4.0/layout/grid/ [Accessed 22 Nov. 2023].
    Stackoverflow (2016). Text outer glow effect using CSS. [online] Stack Overflow. Available at: https://stackoverflow.com/questions/40393497/text-outer-glow-effect-using-css [Accessed 23 Nov. 2023].
    MD Bootstrap (2013). Bootstrap Search - examples & tutorial. [online] MDB - Material Design for Bootstrap. Available at: https://mdbootstrap.com/docs/standard/forms/search/ [Accessed 23 Nov. 2023].

Iteration 3:

‌

Images:
    Cork Header Background - Irish Mirror. (2022). Cork claims ‘fittest place’ crown across UK and Ireland. [online] Irish Mirror. Available at: https://www.irishmirror.ie/news/irish-news/health-news/cork-claims-fittest-place-crown-28107536 [Accessed 23 Nov. 2023].

‌-->